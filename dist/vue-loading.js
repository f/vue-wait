!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.VueLoading=e():t.VueLoading=e()}(window,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(t,e,n){"use strict";const i=n(2),o=new Map;function r(t,e){const n=Object.assign({caseSensitive:!1},e),r=t+JSON.stringify(n);if(o.has(r))return o.get(r);const s="!"===t[0];s&&(t=t.slice(1)),t=i(t).replace(/\\\*/g,".*");const a=new RegExp(`^${t}$`,n.caseSensitive?"":"i");return a.negated=s,o.set(r,a),a}t.exports=((t,e,n)=>{if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError(`Expected two arrays, got ${typeof t} ${typeof e}`);if(0===e.length)return t;const i="!"===e[0][0];e=e.map(t=>r(t,n));const o=[];for(const n of t){let t=i;for(const i of e)i.test(n)&&(t=!i.negated);t&&o.push(n)}return o}),t.exports.isMatch=((t,e,n)=>{const i=r(e,n),o=i.test(t);return i.negated?!o:o})},function(t,e,n){"use strict";n.r(e);var i=n(0);function o(t,e){return e.match(/[\*\!]/)?t.filter(t=>Object(i.isMatch)(t,e)).length>0:Array.isArray(e)?t.some(t=>e.includes(t)):t.indexOf(e)>-1}function r(t){return t.length>0}function s(t,e){return d([...t,e])}function a(t,e){return d(t).filter(t=>t!==e)}function d(t){return t.filter((t,e,n)=>e==n.indexOf(t))}function c(t,e){const n={};return"object"==typeof t&&(e=t,t=null),Object.keys(e).forEach(i=>{const o=e[i];n[i]=async function(...e){try{return this.__$vueLoadingInstance.startLoading(o),await this.$store.dispatch(t?`${t}/${i}`:i,...e)}finally{this.__$vueLoadingInstance.endLoading(o)}}}),n}function u(t,e,n=!1){return"function"!=typeof e?(console.warn("[vuex-loading] wrapLoading second argument must be a function"),e):!0===n?function(...n){try{return this.__$vueLoadingInstance.startLoading(t),e.apply(this,n)}finally{this.__$vueLoadingInstance.endLoading(t)}}:async function(...n){try{return this.__$vueLoadingInstance.startLoading(t),await e.apply(this,n)}finally{this.__$vueLoadingInstance.endLoading(t)}}}const l="START_LOADING",f="END_LOADING";var g={namespaced:!0,state:{activeLoaders:[]},getters:{isLoading:t=>e=>o(t.activeLoaders,e),anyLoading:t=>r(t.activeLoaders)},actions:{startLoading:({commit:t},e)=>t(l,e),endLoading:({commit:t},e)=>t(f,e)},mutations:{[l](t,e){t.activeLoaders=s(t.activeLoaders,e)},[f](t,e){t.activeLoaders=a(t.activeLoaders,e)}}};var p=function(t,e,n,i,o,r,s,a){var d,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),i&&(c.functional=!0),r&&(c._scopeId="data-v-"+r),s?(d=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},c._ssrRegister=d):o&&(d=a?function(){o.call(this,this.$root.$options.shadowRoot)}:o),d)if(c.functional){c._injectStyles=d;var u=c.render;c.render=function(t,e){return d.call(e),u(t,e)}}else{var l=c.beforeCreate;c.beforeCreate=l?[].concat(l,d):[d]}return{exports:t,options:c}}({props:{visible:Boolean,loader:String,message:String},computed:{isLoading(){return this.visible?this.visible:this.loader?this.__$vueLoadingInstance.isLoading(this.loader):this.__$vueLoadingInstance.anyLoading}}},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.isLoading?n("span",[t._t("loading"),t._v(" "),t.message?n("span",[t._v(t._s(t.message))]):t._e()],2):t._e(),t._v(" "),t.isLoading?t._e():t._t("default")],2)},[],!1,null,null,null).exports;n.d(e,"default",function(){return h}),n.d(e,"install",function(){return L}),n.d(e,"mapLoadingActions",function(){return c}),n.d(e,"wrapLoading",function(){return u});class h{constructor(t={}){this.options={...{accessorName:"$vueLoading",useVuex:!1,componentName:"v-loading",vuexModuleName:"loading",registerComponent:!0},...t},this.initialized=!1}init(t,e){if(!this.initialized){if(this.options.registerComponent&&t.component(this.options.componentName,p),this.options.useVuex){const{vuexModuleName:n}=this.options;if(!e)throw new Error("[vuex-loading] Vuex not initialized.");this.store=e;try{e.unregisterModule(n)}finally{e.registerModule(n,g)}this.stateHandler=new t({computed:{isLoading:()=>t=>e.getters[`${n}/isLoading`](t),anyLoading:()=>e.getters[`${n}/anyLoading`]}})}else this.stateHandler=new t({data:()=>({activeLoaders:[]}),computed:{isLoading(){return t=>o(this.activeLoaders,t)},anyLoading(){return r(this.activeLoaders)}},methods:{startLoading(t){this.activeLoaders=s(this.activeLoaders,t)},endLoading(t){this.activeLoaders=a(this.activeLoaders,t)}}});this.initialized=!0}}get anyLoading(){return this.stateHandler.anyLoading}isLoading(t){return this.stateHandler.isLoading(t)}dispatchLoaderAction(t,e){const{vuexModuleName:n}=this.options;this.store.dispatch(`${n}/${t}`,e,{root:!0})}startLoading(t){this.options.useVuex?this.dispatchLoaderAction("startLoading",t):this.stateHandler.startLoading(t)}endLoading(t){this.options.useVuex?this.dispatchLoaderAction("endLoading",t):this.stateHandler.endLoading(t)}}function L(t){L.installed&&t||(t.mixin({beforeCreate(){const{vueLoading:e,store:n,parent:i}=this.$options;let o=null;e?(o="function"==typeof e?new e:e).init(t,n):i&&i.__$vueLoadingInstance&&(o=i.__$vueLoadingInstance).init(t,i.$store),o&&(this.__$vueLoadingInstance=o,this[o.options.accessorName]=o)}}),L.installed=!0)}h.install=L},function(t,e,n){"use strict";var i=/[|\\{}()[\]^$+*?.]/g;t.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected a string");return t.replace(i,"\\$&")}},function(t,e,n){t.exports=n(1)}])});